package chap19_generic;

import java.util.ArrayList;
import java.util.List;

public class _07_WildCard {

	public static void main(String[] args) {
		// TODO Auto-generated method stub
		List<Integer> intList = new ArrayList<>();
		
		intList.add(1);
		intList.add(2);
		intList.add(3);
		intList.add(4);
		intList.add(5);
		
		System.out.println(getSumList(intList));
		
		// 2.
		System.out.println(getSumList(intList));
		
		List<String> strList = new ArrayList<>();
		
		strList.add("1");
		strList.add("2");
		strList.add("3");
		strList.add("4");
		strList.add("5");
		
//		System.out.println(getMaxList(strList));
		
		// 3.
		System.out.println(getAvgList(intList));
		
		List<Long> longList = new ArrayList<>();
		
		longList.add(10L);
		longList.add(20L);
		longList.add(30L);
		longList.add(40L);
		longList.add(50L);
		
		System.out.println(getAvgList(longList));
		
	}

	// 1. 타입매개변수를 지정하지 않고 바로 사용가능한 제네릭 타입을 와일드카드<?>라고 한다.
	// 와일드카드는 제네릭클래스에는 사용할 수 없고 제네릭 메소드에서만 사용할 수 있다.
	// 제네릭 메소드의 리턴타입이나 매개변수에 타입매개변수의 지정없이 제네릭으로 사용할 수 있다.
	// 와일드카드는 타입매개변수와는 다르게 단독으로는 사용 못하고 제네릭 클래스로 정의된 클래스의
	// 서브클래스 타입으로 사용할 수 있다.
//	public static ? createList(? wildCardList) {
//		
//	}
	
	public static int getSumList(List<?> wildCardList) {
		int sum = 0;
		
		for(int i = 0; i < wildCardList.size(); i++) {
			sum += (int)wildCardList.get(i);
		}
		
		return sum;
	}
	
	// 2. 와일드카도<?>도 extends로 상한제한을 걸 수 있다.
	// <? extends 부모클래스>: 부모클래스를 상속받은 클래스와 부모클래스만 매개변수나 리턴타입으로 지정할 수 있다.
	public static int getMasList(List<? extends Number> wildCardList) {
		int max = wildCardList.get(0).intValue();
		
		for(int i = 0; i <wildCardList.size(); i++) {
			if(wildCardList.get(i).intValue() > max) {
			max = wildCardList.get(i).intValue();
			}
		}
		
		return max;
	}
	
	// 3. 와일드카드<?>는 super 키워드로 하한제한을 걸 수 있다.
	// <? super 자식클래스>: 자식클래스에게 상속해준 부모클래스와 자식클래스만 메소드의 리턴타입, 매개변수로
	//					  지정가능하다.
	public static double getAvgList(List<? super Integer> intList) {
		double avg = 0.0;
		double sum = 0.0;
		
		for(int i = 0; i < intList.size(); i++) {
			sum += (double)intList.get(i);
		}
		
		avg = sum / intList.size();
		
		return avg;
		
		
		
		
		
		
		
		
		
		
		
	}
	
}
